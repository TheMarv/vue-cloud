"use strict";(self["webpackChunkweb"]=self["webpackChunkweb"]||[]).push([[658],{1658:(t,e,o)=>{o.r(e),o.d(e,{default:()=>_});var n=o(3673);const a=(0,n.Uk)(" Vue Cloud "),u={key:0,class:"q-pa-md userNav"},r=(0,n.Uk)(" Login "),i=(0,n.Uk)(" Register "),l={key:1,class:"q-pa-md userNav"},s=(0,n.Uk)(" Logout ");function c(t,e,o,c,d,h){const m=(0,n.up)("q-toolbar-title"),f=(0,n.up)("router-link"),g=(0,n.up)("q-toolbar"),p=(0,n.up)("q-header"),w=(0,n.up)("router-view"),k=(0,n.up)("q-page-container"),v=(0,n.up)("q-layout");return(0,n.wg)(),(0,n.j4)(v,{view:"lHh Lpr lFf"},{default:(0,n.w5)((()=>[(0,n.Wm)(p,{elevated:""},{default:(0,n.w5)((()=>[(0,n.Wm)(g,null,{default:(0,n.w5)((()=>[(0,n.Wm)(m,null,{default:(0,n.w5)((()=>[a])),_:1}),t.authenticated?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",u,[(0,n.Wm)(f,{to:"/login",class:"nav-item"},{default:(0,n.w5)((()=>[r])),_:1}),(0,n.Wm)(f,{to:"/register",class:"nav-item"},{default:(0,n.w5)((()=>[i])),_:1})])),t.authenticated?((0,n.wg)(),(0,n.iD)("div",l,[(0,n.Wm)(f,{to:"#",class:"nav-item",onClick:e[0]||(e[0]=e=>t.logout())},{default:(0,n.w5)((()=>[s])),_:1})])):(0,n.kq)("",!0)])),_:1})])),_:1}),(0,n.Wm)(k,null,{default:(0,n.w5)((()=>[t.mounted?((0,n.wg)(),(0,n.j4)(w,{key:0})):(0,n.kq)("",!0)])),_:1})])),_:1})}var d=o(1768),h=function(t,e,o,n){function a(t){return t instanceof o?t:new o((function(e){e(t)}))}return new(o||(o=Promise))((function(o,u){function r(t){try{l(n.next(t))}catch(e){u(e)}}function i(t){try{l(n["throw"](t))}catch(e){u(e)}}function l(t){t.done?o(t.value):a(t.value).then(r,i)}l((n=n.apply(t,e||[])).next())}))};const m=(0,n.aZ)({name:"Layout",methods:{logout(){localStorage.removeItem("Auth-Token"),this.$store.commit("loggedIn",{authenticated:!1,token:""})}},data:()=>({mounted:!1}),mounted(){d.api.get("/user").then((t=>h(this,void 0,void 0,(function*(){if(this.mounted=!0,200===t.status){const t=localStorage.getItem("Auth-Token");if(null===t)return;d.api.defaults.headers.authorization=`Bearer ${t}`,this.$store.commit("loggedIn",{authenticated:!0,token:t}),yield this.$router.push("/dashboard")}})))).catch(console.error)},computed:{authenticated(){const t=this.$store.getters.getLoggedIn;return t}}});var f=o(4260),g=o(3066),p=o(3812),w=o(9570),k=o(3747),v=o(2652),q=o(7518),y=o.n(q);const b=(0,f.Z)(m,[["render",c]]),_=b;y()(m,"components",{QLayout:g.Z,QHeader:p.Z,QToolbar:w.Z,QToolbarTitle:k.Z,QPageContainer:v.Z})}}]);