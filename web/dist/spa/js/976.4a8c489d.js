"use strict";(self["webpackChunkweb"]=self["webpackChunkweb"]||[]).push([[976],{1976:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var o=n(3673);function a(e,t,n,a,l,i){const s=(0,o.up)("q-input"),r=(0,o.up)("q-btn"),u=(0,o.up)("q-form"),d=(0,o.up)("q-page");return(0,o.wg)(),(0,o.j4)(d,{class:"row items-center justify-evenly"},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{onSubmit:e.onSubmit,class:"q-gutter-md userForm"},{default:(0,o.w5)((()=>[(0,o.Wm)(s,{filled:"",modelValue:e.email,"onUpdate:modelValue":t[0]||(t[0]=t=>e.email=t),label:"Email address"},null,8,["modelValue"]),(0,o.Wm)(s,{filled:"",modelValue:e.password,"onUpdate:modelValue":t[1]||(t[1]=t=>e.password=t),type:"password",label:"Password"},null,8,["modelValue"]),(0,o._)("div",null,[(0,o.Wm)(r,{label:"Login",type:"submit",color:"primary"})])])),_:1},8,["onSubmit"])])),_:1})}var l=n(8825),i=n(1768),s=function(e,t,n,o){function a(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,l){function i(e){try{r(o.next(e))}catch(t){l(t)}}function s(e){try{r(o["throw"](e))}catch(t){l(t)}}function r(e){e.done?n(e.value):a(e.value).then(i,s)}r((o=o.apply(e,t||[])).next())}))};const r=(0,o.aZ)({name:"Login",data(){return{email:"",password:"",$q:(0,l.Z)()}},methods:{onSubmit(){return s(this,void 0,void 0,(function*(){const e=yield i.api.post("/user/login",{email:this.email,password:this.password});if(200===e.status){this.$q.notify({color:"green-3",textColor:"white",icon:"check",message:"Successfully logged in"});const t=e.data;localStorage.setItem("Auth-Token",t),i.api.defaults.headers.authorization=`Bearer ${t}`,this.$store.commit("loggedIn",{authenticated:!0,token:t}),yield this.$router.push("/dashboard")}else this.$q.notify({color:"red-5",textColor:"white",icon:"warning",message:400===e.status?"Please enter a valid email":"Invalid login information"})}))}}});var u=n(4260),d=n(4379),c=n(8689),m=n(468),p=n(2452),f=n(7518),h=n.n(f);const w=(0,u.Z)(r,[["render",a]]),g=w;h()(r,"components",{QPage:d.Z,QForm:c.Z,QInput:m.Z,QBtn:p.Z})}}]);